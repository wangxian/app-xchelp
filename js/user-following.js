define(function(require,exports,module){var _=require("underscore");var Backbone=require("backbone");var store=require("store");var FollowinglistModel=new Backbone.Model;var FollowinglistViewDef=Backbone.View.extend({el:"#following-list",events:{"tap #friend-main-followinglist li":"showHomepage","touchstart #friend-main-followinglist li":"touchstart","touchend #friend-main-followinglist li":"touchcancle","touchcancle #friend-main-followinglist li":"touchcancle"},touchstart:function(e){$(e.currentTarget).addClass("touching")},touchcancle:function(e){$(e.currentTarget).removeClass("touching")},followinglistTemplate:_.template($("#tmpl-following-items").html()),initialize:function(){$.ui.showMask("正在加载关注用户列表信息...");FollowinglistModel.on("change",this.renderFollowinglist,this)},showFollowinglist:function(id){FollowinglistModel.url="/user/getFollowinglist?uid="+id;FollowinglistModel.fetch()},renderFollowinglist:function(list){var data=list.toJSON();following_data=data.body.data;var following_html=this.followinglistTemplate({data:following_data});$("#friend-main-followinglist").html(following_html);$.ui.loadContent("#following-list")},showHomepage:function(e){var _e=$(e.currentTarget);var _id=_e.attr("data-id");require.async("./user-homepage",function(mod){mod.showArticle(_id)})}});module.exports=new FollowinglistViewDef});