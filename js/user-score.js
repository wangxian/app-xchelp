define(function(require,exports,module){var _=require("underscore");var Backbone=require("backbone");var store=require("store");var Scorelist=new Backbone.Model;var ScorelistDef=Backbone.View.extend({el:"#integral-record",homeListTemplate:_.template($("#tmpl-score-list").html()),initialize:function(){$.ui.showMask("正在加载用户积分列表！");Scorelist.on("change",this.renderScorelist,this)},showScorelist:function(){var userinfo=store.get("userinfo");user_id=userinfo.user_id;Scorelist.url="/user/getUserScoreRecord/"+user_id;Scorelist.fetch()},renderScorelist:function(list){var data=list.toJSON();data=data.body.data;var _html=this.homeListTemplate({data:data});$("#score-list").append(_html);$.ui.loadContent("#integral-record")}});module.exports=new ScorelistDef});